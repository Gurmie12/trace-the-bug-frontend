{"ast":null,"code":"var _jsxFileName = \"/Users/gurman/Documents/GitHub/trace-the-bug/trace-the-bug/trace-the-bug/src/Main.js\";\nimport React, { useEffect, useState } from 'react';\n\nfunction Main() {\n  const [country, setCountry] = useState('');\n  const [state, setState] = useState('');\n  const [city, setCity] = useState('');\n  const [transit, setTransit] = useState('');\n  const [countryData, setCountryData] = useState([]);\n  const [stateData, setStateData] = useState([]);\n  const [cityData, setCityData] = useState([]);\n  const [allData, setAllData] = useState([]);\n  useEffect(() => {\n    fetch(\"http://localhost:3001/alldata\").then(res => res.json()).then(data => {\n      setAllData(data);\n    });\n  }, []);\n\n  const handleClick = e => {\n    e.preventDefault();\n\n    if (country === \"\" && state === \"\" && city === \"\" || country !== \"\" && state !== \"\" && city !== \"\") {\n      renderAlert('Please fill in only one search query!', 'alert-danger');\n    } else {\n      if (country !== \"\") {\n        fetch(`http://localhost:3001/filtercountry/${country}`).then(res => res.json()).then(data => {\n          setCountryData(data.response);\n        }).catch(err => {\n          renderAlert(err, 'alert-danger');\n        }).catch(err => {\n          renderAlert(err, 'alert-danger');\n        });\n      }\n\n      if (state !== \"\") {\n        fetch(`http://localhost:3001/filterstate/${state}`).then(res => res.json()).then(data => {\n          setStateData(data.response);\n        }).catch(err => {\n          console.log(err);\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n\n      if (city !== \"\") {\n        fetch(`http://localhost:3001/filtercity/${city}`).then(res => res.json()).then(data => {\n          setCityData(data.response);\n        }).catch(err => {\n          renderAlert(err, 'alert-danger');\n        }).catch(err => {\n          renderAlert(err, 'alert-danger');\n        });\n      }\n    }\n  };\n\n  function renderAlert(message, className) {\n    const inputDiv = document.getElementById('form-container');\n    const inputForm = document.getElementById('search-form');\n    const alert = document.createElement('div');\n    alert.id = \"alert\";\n    alert.className = \"alert center-text mt-5 \" + className;\n    alert.appendChild(document.createTextNode(message)); //Check that an alert is not already displayed\n\n    if (document.getElementById(\"alert\")) {\n      document.getElementById('alert').remove();\n      inputDiv.insertBefore(alert, inputForm);\n      setTimeout(() => {\n        alert.remove();\n      }, 3000);\n    } else {\n      inputDiv.insertBefore(alert, inputForm);\n      setTimeout(() => {\n        alert.remove();\n      }, 3000);\n    }\n  }\n\n  const render = () => {\n    if (countryData.length === 0 || stateData.length === 0 || cityData.length === 0) {\n      console.log(allData);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      }, allData.map(data => {\n        return /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            color: 'white'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 33\n          }\n        }, data.region, \" - \", data.country, \" - \", data.transportation_type, \" - \", data[\"sub-region\"]);\n      }));\n    } else {\n      if (countryData.length !== 0) {\n        console.log(countryData);\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"container\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 21\n          }\n        }, countryData.map(data => {\n          return /*#__PURE__*/React.createElement(\"p\", {\n            style: {\n              color: 'white'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 37\n            }\n          }, data.region, \" - \", data.country, \" - \", data.transportation_type, \" - \", data[\"sub-region\"]);\n        }));\n      }\n\n      if (stateData.length !== 0) {\n        console.log(stateData);\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"container\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }\n        }, stateData.map(data => {\n          return /*#__PURE__*/React.createElement(\"p\", {\n            style: {\n              color: 'white'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 37\n            }\n          }, data.region, \" - \", data.country, \" - \", data.transportation_type, \" - \", data[\"sub-region\"]);\n        }));\n      }\n\n      if (cityData.length !== 0) {\n        console.log(cityData);\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"container\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 21\n          }\n        }, cityData.map(data => {\n          return /*#__PURE__*/React.createElement(\"p\", {\n            style: {\n              color: 'white'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 37\n            }\n          }, data.region, \" - \", data.country, \" - \", data.transportation_type, \" - \", data[\"sub-region\"]);\n        }));\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container justify-content-center\",\n    id: \"form-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    id: \"search-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-5 mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"searchCountry\",\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 25\n    }\n  }, \"Search By Country\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"searchCountry\",\n    className: \"form-control\",\n    type: \"text\",\n    onChange: e => setCountry(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-5 mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"searchState\",\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 25\n    }\n  }, \"Search By State/Province/Region\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"searchState\",\n    className: \"form-control\",\n    type: \"text\",\n    onChange: e => setState(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-5 mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"searchCity\",\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 25\n    }\n  }, \"Search By City/Region\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"searchCity\",\n    className: \"form-control\",\n    type: \"text\",\n    onChange: e => setCity(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-5 mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"searchTransit\",\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }, \"Search By City/Region\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"searchTransit\",\n    className: \"form-control\",\n    type: \"text\",\n    onChange: e => setTransit(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-light\",\n    type: \"submit\",\n    onClick: e => handleClick(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }, \"Search\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, render()));\n}\n\n;\nexport default Main;","map":{"version":3,"sources":["/Users/gurman/Documents/GitHub/trace-the-bug/trace-the-bug/trace-the-bug/src/Main.js"],"names":["React","useEffect","useState","Main","country","setCountry","state","setState","city","setCity","transit","setTransit","countryData","setCountryData","stateData","setStateData","cityData","setCityData","allData","setAllData","fetch","then","res","json","data","handleClick","e","preventDefault","renderAlert","response","catch","err","console","log","message","className","inputDiv","document","getElementById","inputForm","alert","createElement","id","appendChild","createTextNode","remove","insertBefore","setTimeout","render","length","map","color","region","transportation_type","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nfunction Main(){\n    const [country, setCountry] = useState('');\n    const [state, setState] = useState('');\n    const [city, setCity] = useState('');\n    const [transit, setTransit] = useState('');\n    const [countryData, setCountryData] = useState([]);\n    const [stateData, setStateData] = useState([]);\n    const [cityData, setCityData] = useState([]);\n    const [allData, setAllData] = useState([]);\n\n    useEffect(() =>{    \n        fetch(\"http://localhost:3001/alldata\")\n        .then(res => res.json())\n        .then(data => {\n            setAllData(data);\n        });\n    }, []);\n\n    const handleClick = (e) =>{\n        e.preventDefault();\n\n        if((country === \"\" && state === \"\" && city === \"\") || (country !== \"\" && state !== \"\" && city !== \"\")){\n            renderAlert('Please fill in only one search query!', 'alert-danger');\n        }else{\n            if(country !== \"\"){\n                fetch(`http://localhost:3001/filtercountry/${country}`)\n                .then(res => res.json())\n                    .then(data => {\n                        setCountryData(data.response);\n                    })\n                    .catch(err =>{\n                        renderAlert(err, 'alert-danger');\n                    })\n                .catch(err =>{\n                    renderAlert(err, 'alert-danger');\n                });\n            }\n\n            if(state !== \"\"){\n                fetch(`http://localhost:3001/filterstate/${state}`)\n                .then(res => res.json())\n                    .then(data => {\n                        setStateData(data.response);\n                    })\n                    .catch(err =>{\n                        console.log(err);\n                    })\n                .catch(err =>{\n                    console.log(err);\n                });\n            }\n\n            if(city !== \"\"){\n                fetch(`http://localhost:3001/filtercity/${city}`)\n                .then(res => res.json())\n                    .then(data => {\n                        setCityData(data.response);\n                    })\n                    .catch(err =>{\n                        renderAlert(err, 'alert-danger');\n                    })\n                .catch(err =>{\n                    renderAlert(err, 'alert-danger');\n                });\n            }\n        }\n    }\n\n    function renderAlert(message, className){\n        const inputDiv = document.getElementById('form-container');\n        const inputForm = document.getElementById('search-form');\n        const alert = document.createElement('div');\n        alert.id = \"alert\";\n        alert.className = \"alert center-text mt-5 \" + className;\n        alert.appendChild(document.createTextNode(message));\n\n        //Check that an alert is not already displayed\n        if(document.getElementById(\"alert\")){\n            document.getElementById('alert').remove();\n            inputDiv.insertBefore(alert, inputForm);\n            setTimeout(() =>{\n            alert.remove();\n            }, 3000);\n        }else{\n            inputDiv.insertBefore(alert, inputForm);\n            setTimeout(() =>{\n            alert.remove();\n            }, 3000);\n        }\n    }\n\n    const render = () =>{\n        if(countryData.length === 0 || stateData.length === 0 || cityData.length === 0){\n            console.log(allData);\n            return(\n                <div className=\"container\">\n                    {\n                        allData.map(data =>{\n                            return(\n                                <p style={{color: 'white'}}>{data.region} - {data.country} - {data.transportation_type} - {data[\"sub-region\"]}</p>\n                            )\n                        })\n                    }\n                </div>\n            )\n        }else{  \n            if(countryData.length !== 0){\n                console.log(countryData);\n                return(\n                    <div className=\"container\">\n                        {\n                            countryData.map(data =>{\n                                return(\n                                    <p style={{color: 'white'}}>{data.region} - {data.country} - {data.transportation_type} - {data[\"sub-region\"]}</p>\n                                )                            })\n                        }\n                    </div>\n                )\n            }\n\n            if(stateData.length !== 0){\n                console.log(stateData);\n                return(\n                    <div className=\"container\">\n                        {\n                            stateData.map(data =>{\n                                return(\n                                    <p style={{color: 'white'}}>{data.region} - {data.country} - {data.transportation_type} - {data[\"sub-region\"]}</p>\n                                )                            })\n                        }\n                    </div>\n                )\n            }\n\n            if(cityData.length !== 0){\n                console.log(cityData);\n                return(\n                    <div className=\"container\">\n                        {\n                            cityData.map(data =>{\n                                return(\n                                    <p style={{color: 'white'}}>{data.region} - {data.country} - {data.transportation_type} - {data[\"sub-region\"]}</p>\n                                )                            })\n                        }\n                    </div>\n                )\n            }\n        }\n    }\n\n    return(\n        <div className=\"Main\">\n            <div className=\"container justify-content-center\" id=\"form-container\">\n                <form id=\"search-form\">\n                    <div className=\"form-group mt-5 mb-5\">\n                        <label for=\"searchCountry\" style={{color: 'white'}}>Search By Country</label>\n                        <input id=\"searchCountry\" className=\"form-control\" type=\"text\" onChange={e => setCountry(e.target.value)}></input>\n                    </div>\n\n                    <div className=\"form-group mt-5 mb-5\">\n                        <label for=\"searchState\" style={{color: 'white'}}>Search By State/Province/Region</label>\n                        <input id=\"searchState\" className=\"form-control\" type=\"text\" onChange={e => setState(e.target.value)}></input>\n                    </div>\n\n                    <div className=\"form-group mt-5 mb-5\">\n                        <label for=\"searchCity\" style={{color: 'white'}}>Search By City/Region</label>\n                        <input id=\"searchCity\" className=\"form-control\" type=\"text\" onChange={e => setCity(e.target.value)}></input>\n                    </div>\n\n                    <div className=\"form-group mt-5 mb-5\">\n                        <label for=\"searchTransit\" style={{color: 'white'}}>Search By City/Region</label>\n                        <input id=\"searchTransit\" className=\"form-control\" type=\"text\" onChange={e => setTransit(e.target.value)}></input>\n                    </div>\n                    <button className=\"btn btn-light\" type=\"submit\" onClick={e => handleClick(e)}>Search</button>\n                </form>\n            </div>\n            <div className=\"container\">\n                {\n                    render()\n                }\n            </div>\n        </div>\n    )\n};\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}