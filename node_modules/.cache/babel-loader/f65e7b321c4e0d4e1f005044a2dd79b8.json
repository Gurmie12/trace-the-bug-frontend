{"ast":null,"code":"var _jsxFileName = \"/Users/gurman/Documents/GitHub/trace-the-bug/trace-the-bug/trace-the-bug/src/dashboard.js\";\nimport React, { useState, useEffect } from 'react';\nimport './dashboard.css';\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip } from 'recharts';\n\nfunction Dashboard(data) {\n  const [info, setData] = useState(data.data);\n  const [graphData, setGraphData] = useState([]);\n  console.log(graphData);\n  useEffect(() => {\n    let cases = info.totalCases;\n    let dates = [];\n    let graphData = {};\n    let final = [];\n    cases.forEach(x => {\n      if (dates.includes(x.date) === false) {\n        dates.push(x.date);\n      }\n    });\n    dates.forEach(date => {\n      graphData[date] = 0;\n    });\n    dates.forEach(date => {\n      cases.forEach(x => {\n        if (x.date === date) {\n          graphData[date]++;\n        }\n      });\n    });\n    const keys = Object.keys(graphData);\n    keys.forEach(key => {\n      final.push({\n        date: key,\n        value: graphData[key]\n      });\n    });\n    let sorted = final.sort((a, b) => {\n      return new Date(a.date) - new Date(b.date);\n    });\n    setGraphData(sorted);\n  }, []);\n\n  function total() {\n    let total = 0;\n    graphData.forEach(data => {\n      total += data.value;\n    });\n    return total;\n  }\n\n  ;\n\n  const analysis = () => {\n    for (let i = 0; i < graphData.length - 1; i++) {\n      const keys = Object.keys(info.ontarioData[0]);\n      let mobInc = [];\n      let incCount = 0;\n      keys.forEach(key => {\n        if (key !== \"date\") {\n          if (info.ontarioData[i + 1][key] - info.ontarioData[i][key] > 0) {\n            incCount++;\n            mobInc.push({\n              date: info.ontarioData[i].date,\n              type: key\n            });\n          }\n        }\n      });\n      let mobDec = [];\n      let decCount = 0;\n      keys.forEach(key => {\n        if (key !== \"date\") {\n          if (info.ontarioData[i + 1][key] - info.ontarioData[i][key] < 0) {\n            decCount++;\n            mobDec.push({\n              date: info.ontarioData[i].date,\n              type: key\n            });\n          }\n        }\n      });\n      console.log(decCount, incCount);\n      let case1 = false;\n      let case2 = false;\n      let case3 = false;\n      let case4 = false;\n      let case5 = false;\n      let case6 = false;\n      let case7 = false;\n      let case8 = false;\n      let case9 = false; //Increases and Decreases were the same amount but cases went up\n      //Increases and decreases same but cases went down \n\n      if (incCount === decCount && graphData[i + 1].value - graphData[i].value > 0) {\n        case8 = true;\n      } else if (incCount === decCount && graphData[i + 1].value - graphData[i].value < 0) {\n        case9 = true;\n      } //if all increase and cases increase\n      //If all decrease and cases decrease\n\n\n      if (incCount >= 3 && graphData[i + 1].value - graphData[i].value > 0) {\n        case1 = true;\n      } else if (decCount >= 3 && graphData[i + 1].value - graphData[i].value < 0) {\n        case2 = true;\n      } //if all increase and cases stay same\n      //if all decrease and cases stay the same\n\n\n      if (incCount >= 3 && Math.abs(graphData[i + 1].value - graphData[i].value) < 0.1 * graphData[i].value) {\n        case3 = true;\n      } else if (decCount >= 3 && Math.abs(graphData[i + 1].value - graphData[i].value) < 0.1 * graphData[i].value) {\n        case4 = true;\n      } //if all increase and cases decrease\n      //if all decrease and cases increase\n\n\n      if (incCount >= 3 && graphData[i + 1].value - graphData[i].value < 0) {\n        case5 = true;\n      } else if (decCount >= 3 && graphData[i + 1].value - graphData[i].value > 0) {\n        case6 = true;\n      } //No new cases inbetween days\n\n\n      if (graphData[i].value === 0) {\n        case7 = true;\n      }\n\n      let final = [];\n\n      if (case1) {\n        final.push( /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 17\n          }\n        }, \"There were the following large spikes that lead to increases of new cases on the same day:\", mobInc.map(data => {\n          return /*#__PURE__*/React.createElement(\"p\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 33\n            }\n          }, data.date, \": \", data.type);\n        }), \"The amount of activity in this region is predicted to influence the infectivity (new number of cases) and rapid increase. The above mobility data has seen the largest spikes on the corresponding dates which has lead to direct increases in new cases and should be avoided by persons inorder to help stop the spread of disease.\"));\n      }\n\n      if (case2) {\n        final.push( /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 17\n          }\n        }, \"There were the following large drops that lead to decreases in new cases on the same day:\", mobDec.map(data => {\n          return /*#__PURE__*/React.createElement(\"p\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 33\n            }\n          }, data.date, \": \", data.type);\n        }), \"The amount of activity in this region is predicted to influence the infectivity (new number of cases) and rapid decrease. The above mobility data has seen the largest drops on the corresponding dates which has lead to direct decreases in new cases. Persons should continue to avoid the above public destinations as it will contribute to the decreases in cases in this region.\"));\n      }\n\n      if (case3) {\n        final.push( /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 28\n          }\n        }, \"case3\"));\n      }\n\n      if (case4) {\n        final.push( /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 28\n          }\n        }, \"case4\"));\n      }\n\n      if (case5) {\n        final.push( /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 28\n          }\n        }, \"case5\"));\n      }\n\n      if (case6) {\n        final.push( /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 28\n          }\n        }, \"case6\"));\n      }\n\n      if (case7) {\n        final.push( /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 28\n          }\n        }, \"case7\"));\n      }\n\n      if (case8) {\n        final.push( /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 28\n          }\n        }, \"case8\"));\n      }\n\n      if (case9) {\n        final.push( /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 28\n          }\n        }, \"case9\"));\n      }\n\n      if (!case1 && !case2 && !case3 && !case4 && !case5 && !case6 && !case7) {\n        final.push( /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 28\n          }\n        }, \"emerg case\"));\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 17\n        }\n      }, final.map(term => {\n        return term;\n      }));\n    }\n  };\n\n  function nextSteps() {}\n\n  ;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard mt-5 mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card bg-transparent\",\n    id: \"card-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    id: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 33\n    }\n  }, \"Graphs\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    id: \"graph-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 33\n    }\n  }, \"Changes In Cases (#)\"), /*#__PURE__*/React.createElement(LineChart, {\n    width: 700,\n    height: 300,\n    data: graphData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"value\",\n    stroke: \"#F03309\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(CartesianGrid, {\n    stroke: \"#eee\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(XAxis, {\n    stroke: \"#eee\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    dataKey: \"value\",\n    stroke: \"#eee\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    id: \"graph-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 33\n    }\n  }, \"Mobility Changes from Baseline (%)\"), /*#__PURE__*/React.createElement(LineChart, {\n    width: 700,\n    height: 300,\n    data: info.ontarioData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"retail_change\",\n    stroke: \"#F03309\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"grocery_change\",\n    stroke: \"#F0D409\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"parks_change\",\n    stroke: \"#98F009\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"transit_change\",\n    stroke: \"#09F0B8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"workplace_changes\",\n    stroke: \"#A009F0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"residential_changes\",\n    stroke: \"#F0099F\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(CartesianGrid, {\n    stroke: \"#eee\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"data\",\n    stroke: \"#eee\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    stroke: \"#eee\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 37\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card bg-transparent\",\n    id: \"card-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    id: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 33\n    }\n  }, \"Data\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    style: {\n      color: '#00FFFB'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 45\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    style: {\n      color: '#00FFFB'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 45\n    }\n  }, \"Cases\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 37\n    }\n  }, graphData.map((data, i) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: i,\n      style: {\n        color: 'white'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 57\n      }\n    }, data.date.replace(\"T04:00:00.000Z\", \"\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 57\n      }\n    }, data.value));\n  }), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      color: '#00FFFB'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 45\n    }\n  }, \"Total\"), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      color: '#00FFFB'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 45\n    }\n  }, total())))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card bg-transparent\",\n    id: \"card-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    id: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 33\n    }\n  }, \"Analysis\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 29\n    }\n  }, analysis()))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card bg-transparent\",\n    id: \"card-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    id: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 33\n    }\n  }, \"Next Steps\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 29\n    }\n  }, nextSteps()))))));\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/gurman/Documents/GitHub/trace-the-bug/trace-the-bug/trace-the-bug/src/dashboard.js"],"names":["React","useState","useEffect","LineChart","Line","CartesianGrid","XAxis","YAxis","Tooltip","Dashboard","data","info","setData","graphData","setGraphData","console","log","cases","totalCases","dates","final","forEach","x","includes","date","push","keys","Object","key","value","sorted","sort","a","b","Date","total","analysis","i","length","ontarioData","mobInc","incCount","type","mobDec","decCount","case1","case2","case3","case4","case5","case6","case7","case8","case9","Math","abs","map","term","nextSteps","color","replace"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './dashboard.css';\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip } from 'recharts';\n\nfunction Dashboard(data){\n    const [info, setData] = useState(data.data);\n    const [graphData, setGraphData] = useState([]);\n\n    console.log(graphData);\n    useEffect(() =>{\n        let cases = info.totalCases;\n        let dates = [];\n        let graphData = {};\n        let final = [];\n\n        cases.forEach(x =>{\n            if(dates.includes(x.date) === false){\n                dates.push(x.date);\n            }\n        });\n\n        dates.forEach(date =>{\n            graphData[date] = 0;\n        });\n\n        dates.forEach(date =>{\n            cases.forEach(x =>{\n                if(x.date === date){\n                    graphData[date]++;\n                }\n            })\n        });\n\n        const keys = Object.keys(graphData);\n\n        keys.forEach(key =>{\n            final.push({date: key, value: graphData[key]});\n        });\n\n        let sorted = final.sort((a,b) =>{\n            return(\n                new Date(a.date) - new Date(b.date)\n            );\n        });\n\n        setGraphData(sorted);\n    \n    }, []);\n\n\n    function total(){\n        let total = 0;\n        graphData.forEach(data =>{\n            total += data.value;\n        })\n\n        return total;\n    };\n\n    const analysis = () =>{\n        for(let i = 0; i < graphData.length - 1; i++){\n\n            const keys = Object.keys(info.ontarioData[0]);\n            let mobInc = [];\n            let incCount = 0;\n            keys.forEach(key =>{\n                if(key !== \"date\"){\n                    if(info.ontarioData[i + 1][key] - info.ontarioData[i][key] > 0){\n                        incCount++;\n                        mobInc.push({date: info.ontarioData[i].date, type: key});\n                    }\n                }\n            });\n\n            let mobDec = [];\n            let decCount = 0;\n            keys.forEach(key =>{\n                if(key !== \"date\"){\n                    if(info.ontarioData[i + 1][key] - info.ontarioData[i][key] < 0){\n                        decCount++;\n                        mobDec.push({date: info.ontarioData[i].date, type: key});\n                    }\n                }\n            });\n\n            console.log(decCount, incCount);\n            let case1 = false;\n            let case2 = false;\n            let case3 = false;\n            let case4 = false;\n            let case5 = false;\n            let case6 = false;\n            let case7 = false;\n            let case8 = false;\n            let case9 = false;\n\n\n            //Increases and Decreases were the same amount but cases went up\n            //Increases and decreases same but cases went down \n            if(incCount === decCount && (graphData[i + 1].value - graphData[i].value > 0)){\n                case8 = true;\n            }else if(incCount === decCount && (graphData[i + 1].value - graphData[i].value < 0)){\n                case9 = true;\n            }\n\n            //if all increase and cases increase\n            //If all decrease and cases decrease\n            if(incCount >= 3 && (graphData[i + 1].value - graphData[i].value > 0)){\n                case1 = true;\n            }else if(decCount >= 3 && (graphData[i + 1].value - graphData[i].value < 0)){\n                case2 = true;\n            }\n\n            //if all increase and cases stay same\n            //if all decrease and cases stay the same\n            if(incCount >= 3 && (Math.abs(graphData[i + 1].value - graphData[i].value) < 0.1 * (graphData[i].value))){\n                case3 = true;\n            }else if(decCount >= 3 && (Math.abs(graphData[i + 1].value - graphData[i].value) < 0.1 * (graphData[i].value))){\n                case4 = true;\n            }\n\n\n            //if all increase and cases decrease\n            //if all decrease and cases increase\n            if(incCount >= 3 && (graphData[i + 1].value - graphData[i].value < 0)){\n                case5 = true;\n            }else if(decCount >= 3 && (graphData[i + 1].value - graphData[i].value > 0)){\n                case6 = true;\n            }\n\n            //No new cases inbetween days\n            if(graphData[i].value === 0){\n                case7 = true;\n            }\n\n\n            let final = [];\n\n            if(case1){\n                final.push(\n                <p>\n                    There were the following large spikes that lead to increases of new cases on the same day:{\n                        mobInc.map(data =>{\n                            return(\n                                <p>{data.date}: {data.type}</p>\n                            )\n                        })\n                    }\n                    The amount of activity in this region is predicted to influence the infectivity (new number of cases) and rapid increase.\n                    The above mobility data has seen the largest spikes on the corresponding dates which has lead to direct increases in new cases and\n                    should be avoided by persons inorder to help stop the spread of disease.\n                </p>\n                );\n            }\n\n            if(case2){\n                final.push(\n                <p>\n                    There were the following large drops that lead to decreases in new cases on the same day:{\n                        mobDec.map(data =>{\n                            return(\n                                <p>{data.date}: {data.type}</p>\n                            )\n                        })\n                    }\n                    The amount of activity in this region is predicted to influence the infectivity (new number of cases) and rapid decrease.\n                    The above mobility data has seen the largest drops on the corresponding dates which has lead to direct decreases in new cases.\n                    Persons should continue to avoid the above public destinations as it will contribute to the decreases in cases in this region.\n                </p>\n                );\n            }\n\n            if(case3){\n                final.push(<p>case3</p>);\n            }\n\n            if(case4){\n                final.push(<p>case4</p>);\n            }\n\n            if(case5){\n                final.push(<p>case5</p>);\n            }\n\n            if(case6){\n                final.push(<p>case6</p>);\n            }\n\n            if(case7){\n                final.push(<p>case7</p>);\n            }\n\n            if(case8){\n                final.push(<p>case8</p>);\n            }\n\n            if(case9){\n                final.push(<p>case9</p>);\n            }\n\n            if(!case1 && !case2 && !case3 && !case4 && !case5 && !case6 && !case7){\n                final.push(<p>emerg case</p>);\n            }\n\n            return(\n                <React.Fragment>\n                    {\n                        final.map(term =>{\n                            return(\n                                term\n                            )\n                        })\n                    }\n                </React.Fragment>\n            )\n        }\n    };\n\n    function nextSteps(){\n\n    };\n\n    return(\n        <div className=\"dashboard mt-5 mb-5\">\n            <div className=\"container\">\n                <div className=\"row mb-5\">\n                    <div className=\"col-9\">\n                        <div className=\"card bg-transparent\" id=\"card-div\">\n                            <div className=\"card-header text-center\">\n                                <p className=\"lead\" id=\"card-header\">Graphs</p>\n                            </div>\n                            <div className=\"card-body text-center\">\n                                <p className=\"lead\" id=\"graph-header\">Changes In Cases (#)</p>\n                                <LineChart width={700} height={300} data={graphData}>\n                                    <Line type=\"monotone\" dataKey=\"value\" stroke=\"#F03309\"></Line>\n                                    <CartesianGrid stroke=\"#eee\" />\n                                    <XAxis stroke=\"#eee\" />\n                                    <YAxis dataKey=\"value\" stroke=\"#eee\" />\n                                    <Tooltip />\n                                </LineChart>\n                                <br/>\n                                <p className=\"lead\" id=\"graph-header\">Mobility Changes from Baseline (%)</p>\n                                <LineChart width={700} height={300} data={info.ontarioData}>\n                                    <Line type=\"monotone\" dataKey=\"retail_change\" stroke=\"#F03309\"></Line>\n                                    <Line type=\"monotone\" dataKey=\"grocery_change\" stroke=\"#F0D409\"></Line>\n                                    <Line type=\"monotone\" dataKey=\"parks_change\" stroke=\"#98F009\"></Line>\n                                    <Line type=\"monotone\" dataKey=\"transit_change\" stroke=\"#09F0B8\"></Line>\n                                    <Line type=\"monotone\" dataKey=\"workplace_changes\" stroke=\"#A009F0\"></Line>\n                                    <Line type=\"monotone\" dataKey=\"residential_changes\" stroke=\"#F0099F\"></Line>\n                                    <CartesianGrid stroke=\"#eee\" />\n                                    <XAxis dataKey=\"data\" stroke=\"#eee\" />\n                                    <YAxis stroke=\"#eee\" />\n                                    <Tooltip />\n                                </LineChart>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-3\">\n                        <div className=\"card bg-transparent\" id=\"card-div\">\n                            <div className=\"card-header text-center\">\n                                <p className=\"lead\" id=\"card-header\">Data</p>\n                            </div>\n                            <div className=\"card-body\">\n                                <table className=\"table\">\n                                    <thead>\n                                        <tr>\n                                            <th scope=\"col\" style={{color: '#00FFFB'}}>Date</th>\n                                            <th scope=\"col\" style={{color: '#00FFFB'}}>Cases</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {\n                                            graphData.map((data, i) =>{\n                                                return(\n                                                    <tr key={i} style={{color: 'white'}}>\n                                                        <td>{data.date.replace(\"T04:00:00.000Z\", \"\")}</td>\n                                                        <td>{data.value}</td>\n                                                    </tr>\n                                                )\n                                            })\n                                        }\n                                        <tr>\n                                            <td style={{color: '#00FFFB'}}>Total</td>\n                                            <td style={{color: '#00FFFB'}}>{total()}</td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-6\">\n                        <div className=\"card bg-transparent\" id=\"card-div\">\n                            <div className=\"card-header text-center\">\n                                <p className=\"lead\" id=\"card-header\">Analysis</p>\n                            </div>\n                            <div className=\"card-body\">\n                                {\n                                    analysis()\n                                }\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-6\">\n                        <div className=\"card bg-transparent\" id=\"card-div\">\n                            <div className=\"card-header text-center\">\n                                <p className=\"lead\" id=\"card-header\">Next Steps</p>\n                            </div>\n                            <div className=\"card-body\">\n                                {\n                                    nextSteps()\n                                }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}